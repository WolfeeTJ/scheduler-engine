<?xml version="1.0" encoding="utf-8"?>
<spooler
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="c:/sos/scheduler/engine/kernel-cpp/prod/scheduler/scheduler.xsd"
>
    <config>
        <plugins>
            <plugin java_class="com.sos.scheduler.engine.plugins.event.stepevents.OrderStepEventsPlugIn">
                <plugin.config>
                    <jms>
                        <connection providerUrl="vm:localhost" />
                    </jms>
                </plugin.config>
            </plugin>
        </plugins>

        <jobs>
            <job name="job.1" order="yes" stop_on_error="no">
                <script language="javascript"><![CDATA[
function spooler_process() {
    spooler_log.info("myParam=" + spooler_task.order.params.value("myParam"));
    return true;
}
                ]]></script>
                <run_time once="no"/>
            </job>
            <job name="job.2" order="yes" stop_on_error="no">
                <script language="javascript"><![CDATA[
function spooler_process() {
    spooler_log.info("myParam=" + spooler_task.order.params.value("myParam"));
    return false;
}
                ]]></script>
                <run_time once="no"/>
            </job>
            <job name="job.shell.1" order="yes" stop_on_error="no">
                <script language="shell"><![CDATA[
echo job.shell.1                
                ]]></script>
                <run_time once="no"/>
            </job>
            <job name="job.shell.2" order="yes" stop_on_error="no">
                <script language="shell"><![CDATA[
echo job.shell.1                
                ]]></script>
                <run_time once="no"/>
            </job>
                    </jobs>

        <job_chains>
            <job_chain name="EventPluginTest">
                <job_chain_node     state="state.1" job="job.1"/>
                <job_chain_node     state="state.2" job="job.2"/>
                <job_chain_node.end state="state.end"/>
            </job_chain>
            <job_chain name="EventPluginTestShell">
                <job_chain_node     state="state.1" job="job.shell.1"/>
                <job_chain_node     state="state.2" job="job.shell.2"/>
                <job_chain_node.end state="state.end"/>
            </job_chain>
                    </job_chains>

        <commands>
            <add_order job_chain="EventPluginTest" id="id.1">
             <params>
              <param name="myParam" value="EventPluginTest" />            
             </params>           
            </add_order>
            <add_order job_chain="EventPluginTestShell" id="id.shell.1">
             <params>
              <param name="myParam" value="EventPluginTest" />            
             </params>           
            </add_order>
                    </commands>
    </config>
</spooler>
