<?xml version="1.0" encoding="utf-8"?>
<spooler xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="c:/sos/scheduler/engine/kernel-cpp/prod/scheduler/scheduler.xsd">
	<config>
		<!-- irgendwas.plugin.xml -->
		<!-- com.sos.scheduler.engine.playground.mq.JMSPlugin.plugin.xml -->
		<plugins>
			<plugin java_class="com.sos.scheduler.engine.plugins.jms.JMSEventPlugin">
				<plugin.config>
					<jms>
						<connection providerUrl="vm:localhost"
							persistenceDirectory="c:/temp/amq" />
						<!-- connection providerUrl="tcp://localhost:61616"/ -->
						<!--connection providerUrl="vm:com.sos.scheduler"/ -->
						<!--brokerService name="com.sos.scheduler"> <connector url="tcp://localhost:63102"/> 
							</brokerService -->
					</jms>
				</plugin.config>
			</plugin>
		</plugins>

		<jobs>
			<job name="exercise10a" title="exercise10a" order="yes">
				<script language="shell">
        <![CDATA[
echo "Hello %SCHEDULER_PARAM_MY_PARAM% !"
echo other_param=789 >> %SCHEDULER_RETURN_VALUES%
        ]]>
				</script>
				<run_time />
			</job>
			<job name="exercise10b" title="exercise10b" stop_on_error="no" order="yes">
				<script language="shell">
        <![CDATA[
echo value of other_param: %SCHEDULER_PARAM_OTHER_PARAM%
exit 5
        ]]>
				</script>
				<run_time />
			</job>
			<job name="exercise10c" title="exercise10c" order="yes">
				<script language="shell">
        <![CDATA[
echo "Hello world!"
        ]]>
				</script>
				<run_time />
			</job>
		</jobs>

		<job_chains>
			<job_chain orders_recoverable="yes" visible="yes" title="exercise10" name="exercise10">
				<job_chain_node state="state1" job="exercise10a"
					next_state="state2" error_state="error" />
				<job_chain_node state="state2" job="exercise10b"
					next_state="state3" error_state="error" on_error="suspend" />
				<job_chain_node state="state3" job="exercise10c"
					next_state="success" error_state="error" />
				<job_chain_node state="error" />
				<job_chain_node state="success" />
			</job_chain>
		</job_chains>

		<commands>
			<add_order job_chain="exercise10" id="exercise10" />
		</commands>

	</config>
</spooler>
