<?xml version="1.0"?>
<spooler
    xmlns:xsi                     = "http://www.w3.org/2001/XMLSchema-instance" 
    xsi:noNamespaceSchemaLocation = "s:/prod/scheduler/scheduler.xsd"
>
    <config>

        <base file="$SCHEDULER_TEST/base.scheduler"/>

        <schedules>
            <schedule name="trettio">
                <period absolute_repeat="30"/>
            </schedule>
        </schedules>

        
        <script language="JavaScript">
            <![CDATA[

//

            ]]>
        </script>

        
        <jobs>
            <job name="A" order="yes" idle_timeout="60">
                <script language="javascript">
                    <![CDATA[

var hostware = new ActiveXObject( "hostware.global" );
spooler_log.info( "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" );                    
spooler_log.info( "run_time.schedule.xml=" + spooler_task.order.run_time.schedule.xml );
spooler_task.order.run_time.xml = "<run_time schedule='trettio'/>";
spooler_log.info( "run_time.schedule.xml=" + spooler_task.order.run_time.schedule.xml );
spooler_task.order.run_time.schedule.xml = "<run_time><period absolute_repeat='33'/></run_time>";
spooler_log.info( "run_time.schedule.xml=" + spooler_task.order.run_time.schedule.xml );
spooler_log.info( "spooler.schedule('trettio').xml=" + spooler.schedule('trettio').xml );
hostware.sleep( 5 );
                    
                    ]]>
                </script>

                <!--run_time schedule="trettio"/-->
            </job>

            
            <job name="B" order="yes" idle_timeout="60">
                <script language="javascript">
                    <![CDATA[
                    
var hostware = new ActiveXObject( "hostware.global" );
spooler_log.info( "BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB" );                    
hostware.sleep( 5 );
                    
                    ]]>
                </script>
            </job>

            
            <job name="C">
                <script language="javascript">
                    <![CDATA[
                    
var hostware = new ActiveXObject( "hostware.global" );
spooler_log.info( "CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC" );                    
hostware.sleep( 5 );
                    
                    ]]>
                </script>

                <run_time schedule="--file"/>
            </job>
        </jobs>


        <job_chains>
            <job_chain name="schedule">
                <job_chain_node state="a" job="A"/>
                <job_chain_node state="b" job="B"/>
            </job_chain>
        </job_chains>

    </config>
</spooler>
