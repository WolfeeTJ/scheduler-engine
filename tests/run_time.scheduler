<?xml version="1.0" encoding="iso-8859-1"?>
<spooler
    xmlns:xsi                     = "http://www.w3.org/2001/XMLSchema-instance" 
    xsi:noNamespaceSchemaLocation = "s:/prod/scheduler/scheduler.xsd"
>
    <config port="4444"
            main_scheduler="lillerud.zschimmer:6310">
    
        <security ignore_unknown_hosts="yes">
            <allowed_host host="0.0.0.0" level="all"/>
        </security>
        
        <process_classes/>
    
        <jobs>

            <job name="test">

                <script language="JavaScript">
                    <![CDATA[

spooler_log.info( "hallo" );

                ]]>
                </script>

                <run_time begin="07:00" repeat="60">
                    <month month="november">
                        <period begin="02:00" end="02:01" absolute_repeat="60"/>
                        <period begin="02:02" end="02:03" absolute_repeat="60"/>
                        <weekdays>
                            <day day="tuesday friday"/>
                        </weekdays>
                        <monthdays>
                            <day day="12">
                                <period single_start="12:00"/>
                            </day>
                        </monthdays>
                        <ultimos>
                            <day day="0">
                                <period single_start="23:59"/>
                            </day>
                            <day day="3">
                                <period begin="01:11" end="02:22" repeat="00:00:33"/>
                            </day>
                        </ultimos>
                    </month>

                    <month month="december">
                        <ultimos>
                            <day day="0">
                                <period single_start="12:00"/>
                            </day>
                        </ultimos>
                    </month>

                    <month month="january">
                        <monthdays>
                            <day day="1">
                                <period single_start="01:00"/>
                            </day>
                        </monthdays>
                    </month>

                    <month month="february">
                        <weekdays>
                            <day day="monday">
                                <period single_start="02:00"/>
                            </day>
                        </weekdays>
                    </month>

                    <month month="march may">
                        <ultimos>
                            <day day="0 2 4">
                                <period single_start="03:00"/>
                            </day>
                        </ultimos>
                    </month>

                    <month month="april">
                        <monthdays>
                            <day day="4">
                                <period single_start="04:00"/>
                            </day>
                        </monthdays>
                    </month>

                    <month month="june">
                        <monthdays>
                            <day day="6">
                                <period single_start="06:00"/>
                            </day>
                        </monthdays>
                    </month>

                    <month month="july">
                        <monthdays>
                            <day day="7 17">
                                <period single_start="07:00"/>
                            </day>
                        </monthdays>
                    </month>

                    <month month="august">
                        <monthdays>
                            <day day="8">
                                <period single_start="08:00"/>
                            </day>
                        </monthdays>
                    </month>

                    <month month="september">
                        <monthdays>
                            <day day="9">
                                <period single_start="09:00"/>
                            </day>
                        </monthdays>
                    </month>

                </run_time>
            </job>

            
            <job name="set_run_time_1">
        
                <script language="JavaScript"><![CDATA[


spooler_log.info( spooler.execute_xml( "<modify_job job='job_b'>" +
                                         "<run_time once='yes'>" +
                                            "<date date='2005-05-06'>" +
                                                "<period begin='14:54:10' end='14:54:30' />" +
                                                "<period begin='14:54:40' end='14:54:50' />" +
                                            "</date>" +             
                                         "</run_time>" + 
                                       "</modify_job>" ) );

                ]]></script>

                <run_time>
                    <period begin="07:00" end="08:00" repeat="60"/>
                    <period begin="09:00" end="10:00" repeat="60"/>
                </run_time>

            </job>
        
        
            <job name="set_run_time_2">
        
                <script language="JavaScript"><![CDATA[


spooler_log.info( spooler.execute_xml( "<modify_job job='job_b'>" +
                                         "<run_time><period begin='00:00' end='00:00'/></run_time>" + 
                                       "</modify_job>" ) );

                ]]></script>

                <run_time/>

            </job>
        
        
            <job name="job_b">
                <script language="JavaScript"><![CDATA[
    
var hostware = new ActiveXObject( "hostware.global" );
               
function spooler_process() 
{               
    spooler_log.info( "spooler_process()" );
    hostware.sleep( 3 );
    
    return true;
}

                ]]></script>
     
                <run_time/>
                
            </job>
            
        </jobs>

        <commands>
            <show_calendar before="2008-10-06T00:00:00" limit="1000"/>
        </commands>
    </config>
</spooler>
