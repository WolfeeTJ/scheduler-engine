<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="../scheduler.xsl" type="text/xsl"?>

<!--$Id$-->

<xml_element name     = "scheduler_script"
             title    = "Scheduler-Skript"
             category = "Konfiguration"
             base_dir = "../"
             parent_page = "../konfiguration.xml"
             author   = "$Author$"
             date     = "$Date$">

    <scheduler_keyword keyword="Scheduler-Skript"/>

    <xml_parent_elements>
        <xml_parent_element name="config"/>
    </xml_parent_elements>


    <xml_attributes>
        <xml_attribute name="name" type="Name" intial="scheduler">
            <description>
                <p>
                    Mehrere Scheduler-Skripte können angegeben werden,
                    wenn jedem ein eigener Name gegeben wird.
                </p>
            </description>
        </xml_attribute>

        <xml_attribute name="ordering" type="number">
            <description>
                <p>
                    Scheduler-Skripte mit kleinerem <code>ordering</code> werden vorranging aufgerufen.
                    Umgekehrt beim Beenden des Schedulers:
                    <scheduler_method class="Job_impl" method="spooler_exit"/> werden nachrangig aufgerufen.
                </p>
            </description>
        </xml_attribute>
    </xml_attributes>


    <xml_child_elements>
        <xml_child_element name="script"/>
    </xml_child_elements>


    <description>
        <p>
            Dem Skript stehen die Variablen <code>spooler</code> und <code>spooler_log</code> zur Verfügung.
        </p>
        <p>
            <scheduler_method class="Job_impl" method="spooler_init"/> wird beim Start des Schedulers (vor dem Start der Jobs) aufgerufen.
        </p>
        <p>
            <scheduler_method class="Job_impl" method="spooler_exit"/> wird bei Beendigung des Schedulers (nach Beendigung aller Jobs) aufgerufen.
        </p>
    </description>

   
</xml_element>
