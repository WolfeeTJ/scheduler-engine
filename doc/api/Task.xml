<?xml version="1.0"?>
<?xml-stylesheet href="api.xsl" type="text/xsl"?>

<!-- Versuch -->



<class name="Task" object_name="spooler_task">

    <com.type interface="Itask" iid="feee478c-6c1b-11d8-8103-000476ee8afb"/>
    
    <java.type class="sos.spooler.Task"/>
    
    
    
    


    <property name="job">
        <title>
            Der <scheduler_method class="Job"/>, zu dem die Task gehÃ¶rt.
        </title>
        
        <com access="read">
            <com.type type="Job" interface="Ijob"/>
        </com>
        
        <java>
            <java.type type="sos.spooler.Job"/>
        </java>
    </property>


    <property name="id">
        <title>
            Die Task-Kennung.
        </title>
        
        <com access="read">
            <com.type type="int"/>
        </com>
    </property>


    <property name="params">
        <description>
            Eine Task kann Parameter haben. 
            Die Parameter kÃ¶nnen in der Konfiguration mit <scheduler_element name="parameter"/>, 
            mit <scheduler_method class="Job" method="start"/>
            oder mit <scheduler_element name="start_job"/> gesetzt werden. 
        </description>
        
        <com>
            <com.type type="Variable_set"/>
        </com>
    </property>


    <property name="result">
        <com>
            <com.type type="VARIANT"/>
        </com>
        
        <java>
            <java.type type="java.lang.String"/>
        </java>
    </property>


    <property name="repeat" access="write_only">
        <com>
            <com.type type="double"/>
        </com>
    </property>


    <method name="end">
    </method>


    <property name="error">
        <com access="write">
            <com.type type="VARIANT">
                <com.variant accepted_type="BSTR"/>
                <!--com.variant accepted_type="Ierror"/-->
            </com.type>
        </com>
        
        <com access="read">
            <com.type type="Error" interface="Ierror"/>
        </com>
    </property>


    <method name="wait_until_terminated">
        <com type="bool"/>
    </method>

    <property name="history_field" access="write">
        <com>
            <com.type type="VARIANT"/>
            
            <com.parameter name="name">
                <com.type type="BSTR"/>
            </com.parameter>
        </com>
        
        <java type="java.lang.String">
            <java.parameter name="name">
                <com.type type="java.lang.String"/>
            </java.parameter>
        </java>
    </property>


    <property name="delay_spooler_process" access="write">
        <com>
            <com.type type="VARIANT" description="time_from_variant.xml"/>
        </com> 
        
        <java name="seconds" type="double"/>
        
        <java name="hhmm_ss" type="java.lang.String" description="time_from_variant.xml"/>
    </property>

    <method name="add_pid">
        <com>
            <com.parameter name="pid">
                <com.type type="int"/>
            </com.parameter>  
            
            <com.parameter name="timeout">
                <com.type type="VARIANT">
                    <com.variant optional="true"/>
                </com.type>
            </com.parameter> 
        </com>

        <java>
            <java.parameter name="pid">
                <java.type type="int"/>
            </java.parameter>
        </java>

        <java>
            <java.parameter name="pid">
                 <java.type type="int"/>
            </java.parameter>
            
            <java.parameter name="timeout">
                <java.type type="double"/>
            </java.parameter>
        </java>
    </method>
    
    
    <method name="wait_until_terminated">
        <abstract>
            <type>
                <description>
                    True, wenn die Task in der Wartezeit geendet hat.
                    <br/>
                    False, wenn die Wartezeit abgelaufen ist, ohne dass die Task geendet hat.
                </description>
            </type>
            
            <parameter name="wait_time">
                <description>
                    Wartezeit in Sekunden
                </description>
            </parameter>
        </abstract>
    
        <com>
            <com.type type="bool"/>
            
            <com.parameter name="wait_time">
                <com.type type="double" default="999999999"/>
            </com.parameter>
        </com>
    </method>
    
    
    <method name="create_subprocess">
        <com>
            <com.type type="Subprocess" interface="Isubprocess"/>
            
            <com.parameter name="program_and_parameters">
                <com.type type="VARIANT">
                    <com.variant accepted_type="BSTR"/>
                    <com.variant accepted_array_type="BSTR"/>
                    <com.variant optional="true"/>
                </com.type>
            </com.parameter>
        </com>

        <java>
            <java.type type="sos.spooler.Subprocess"/>
        </java>            
        
        <java>
            <java.type type="sos.spooler.Subprocess"/>
            
            <java.parameter name="command_line">
                 <java.type type="java.lang.String"/>
            </java.parameter>
        </java>
        
        <java>
            <java.type type="sos.spooler.Subprocess"/>
            
            <java.parameter name="filename_and_arguments">
                <java.type type="java.lang.String[]"/>
            </java.parameter>
        </java>
    </method>

</class>
