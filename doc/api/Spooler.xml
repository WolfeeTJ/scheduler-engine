<?xml version="1.0"?>
<!-- $Id$ -->

<?xml-stylesheet href="api_all_languages.xsl" type="text/xsl"?>


<api.class 
    name        = "Spooler" 
    object_name = "spooler"
    base_dir    = "../"
    author      = "$Author$"
    date        = "$Date$"
>

<property name="log" access="read">
    <com>
        <com.result>
            <com.type class="Log"/>
        </com.result>
    </com>
</property>


<property name="id" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
        Wert der Kommandozeilenoption <scheduler_option name="id"/>.
    </title>
    
    <description>
        <p>
            Siehe <scheduler_option name="id"/>;
        </p>
    </description>
</property>


<property name="param" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
        Wert der Kommandozeilenoption <code>-param=</code> beim Start des Schedulers
    </title>

    <description>
        <p>
            Siehe <scheduler_option name="param"/>;
        </p>
    </description>
</property>


<!--
<property name="script" access="read">
    <com>
        <com.result>
            <com.type class="IDispatch"/>
        </com.result>
    </com>
</property>
-->


<property name="job" access="read">
    <com>
        <com.parameter name="job_name">
            <com.type type="BSTR"/>
        </com.parameter>
        
        <com.result>
            <com.type class="Job"/>
        </com.result>
    </com>
</property>


<method name="create_variable_set">
    <com>
        <com.result>
            <com.type class="Variable_set"/>
        </com.result>
    </com>
</method>


<property name="include_path" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
        Liefert die Kommandozeilenoption <code>-include-path=</code>.
    </title>
    
    <description>
        <p>
            Siehe <scheduler_option name="include-path"/>.
        </p>
    </description>
</property>


<property name="log_dir" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
</property>


<method name="let_run_terminate_and_restart">
    <com/>
</method>


<property name="var">
    <com>
        <com.parameter name="name">
            <com.type type="BSTR"/>
        </com.parameter>
        
        <com.result>
            <com.type type="VARIANT*"/>
        </com.result>
    </com>
</property>


<property name="variables" access="read">
    <com>
        <com.result>
            <com.type class="Variable_set"/>
        </com.result>
    </com>
</property>


<property name="db_name" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
</property>


<method name="create_job_chain">
    <com>
        <com.result>
            <com.type class="Job_chain"/>
        </com.result>
    </com>
    
    <description>
        <p>
            Liefert eine neue <scheduler_method class="Job_chain"/>.
            Diese Jobkette kann, nachdem sie mit Jobs gefüllt worden ist, 
            mit <scheduler_method class="Spooler" name="add_job_chain"/> 
            dem Scheduler hinzugefügt werden
        </p>
    </description>
</method>


<method name="add_job_chain">
    <com>
        <com.parameter>
            <com.type class="Job_chain"/>
        </com.parameter>
    </com>
</method>


<method name="job_chain">
    <com>
        <com.parameter name="name">
            <com.type type="BSTR"/>
        </com.parameter>
        
        <com.result>
            <com.type class="Job_chain"/>
        </com.result>
    </com>
</method>


<method name="create_order">
    <com>
        <com.result>
            <com.type class="Order"/>
        </com.result>
    </com>
</method>


<property name="is_service" access="read">
    <com>
        <com.result>
            <com.type type="bool"/>
        </com.result>
    </com>
</property>


<property name="directory" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
            <description>
                <p> 
                    Der Pfad endet unter Unix mit "<code>/</code>" und unter Windows mit "<code>\</code>".
                </p>
            </description>
        </com.result>
    </com>
    
    <title>
        Das Arbeitsverzeichnis beim Start des Schedulers
    </title>
    
    <description>
        <p>
            Siehe <scheduler_option name="cd"/>.
        </p>
    </description>
</property>


<method name="job_chain_exists">
    <com>
        <com.parameter name="name">
            <com.type type="BSTR"/>
        </com.parameter>
        
        <com.result>
            <com.type type="bool"/>
        </com.result>
    </com>
</method>


<property name="hostname" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
</property>


<method name="abort_immediately">
    <com/>
    
    <title>
        Bricht den Scheduler augenblicklich ab
    </title>
    
    <description>
        <p>
            Bricht den Scheduler augenblicklich ab. 
            Kein Job hat Gelegenheit, darauf zu reagieren. 
        </p>
        <p>
            Der Scheduler bricht zuvor alle gestarteten Prozesse ab.
            Das sind die Tasks und die Prozesse von <scheduler_method class="Task" method="create_subprocess"/>
            und <scheduler_method class="Task" method="add_pid"/>.
        </p>
    </description>
</method>


<method name="abort_immediately_and_restart">
    <com/>
    
    <title>
        Bricht den Scheduler augenblicklich ab und startet ein neu.
    </title>

    <description>
        <p>
            Wie <scheduler_method class="Task" method="abort_immediately"/>,
            nur dass der Scheduler sich erneut startet.
            Dabei verwendet er die Kommandozeilenparametern wieder.
        </p>
    </description>
</method>


<property name="db_variables_table_name" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
        Name der Datenbanktabelle für die internen Variablen des Schedulers
    </title>
</property>


<property name="db_tasks_table_name" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>               
    
    <title>
        Name der Datenbanktabelle für die Tasks
    </title>
</property>


<property name="db_orders_table_name" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>     
        Name der Datenbanktabelle für die Aufträge
    </title>
</property>


<property name="db_history_table_name" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
         Name der Datenbanktabelle für die Auftragshistorie
    </title>
</property>


<property name="Db_order_history_table_name" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
         Name der Datenbanktabelle für die Historie
    </title>
</property>


<property name="ini_path" access="read">
    <com>
        <com.result>
            <com.type type="BSTR"/>
        </com.result>
    </com>
    
    <title>
         Wert der Option <code>-ini=</code> (Dateiname der <code>factory.ini</code>)
    </title>

    <description>
        <p>
            Siehe <scheduler_option name="ini"/>, <a href="../factory_ini.xml"><code>factory.ini</code></a>
        </p>
    </description>
</property>


<method name="execute_xml">
    <com>
        <com.parameter name="xml">
            <com.type type="BSTR"/>
            <description>
                <p>
                    Siehe <a href="../xml_commands.xml">XML-Kommandos</a>.
                </p>
            </description>
        </com.parameter>

        <com.result name="xml_result">
            <com.type type="BSTR"/>
            <description>
                <p>
                    Liefert die XML-Antwort des ausgeführten Kommandos.
                </p>
            </description>
        </com.result>
    </com>
    
    <title>
        Führt ein XML-Kommando aus
    </title>
    
    <description>
        <p>
            Fehler werden als XML-Antwort <scheduler_element name="ERROR" directory="xml/answer/"/> geliefert.
        </p>
    </description>
</method>


<property name="tcp_port" access="read">
    <com>
        <com.result>
            <com.type type="int"/>
        </com.result>
    </com>
    
    <title>
    </title>
</property>


<property name="udp_port" access="read">
    <com>
        <com.result>
            <com.type type="int"/>
        </com.result>
    </com>
    
    <title>
    </title>
</property>


<method name="create_xslt_stylesheet">
    <com>
        <com.parameter name="xml" optional="true">
            <com.type type="BSTR"/>
        </com.parameter>

        <com.result>
            <com.type type="Xslt_stylesheet"/>
        </com.result>
    </com>
    
    <java>
        <java.result>
            <java.type type="Xslt_stylesheet"/>
        </java.result>
    </java>
    
    <java>
        <java.parameter name="path">
            <java.type type="java.io.path"/>
        </java.parameter>

        <java.result>
            <java.type type="Xslt_stylesheet"/>
        </java.result>
    </java>
    
    <java>
        <java.parameter name="path">
            <java.type type="java.lang.String"/>
        </java.parameter>

        <java.result>
            <java.type type="Xslt_stylesheet"/>
        </java.result>
    </java>
</method>


</api.class>
